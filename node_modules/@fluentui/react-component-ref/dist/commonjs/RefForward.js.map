{"version":3,"file":"RefForward.js","names":["RefForward","currentNode","handleRefOverride","node","props","children","innerRef","handleRef","ref","componentDidUpdate","prevProps","componentWillUnmount","render","React","cloneElement","Component"],"sources":["RefForward.tsx"],"sourcesContent":["import * as React from 'react';\nimport { handleRef, RefProps } from './utils';\n\nexport class RefForward extends React.Component<RefProps> {\n  currentNode?: Node | null;\n\n  handleRefOverride = (node: HTMLElement) => {\n    const { children, innerRef } = this.props;\n\n    handleRef((children as React.ReactElement & { ref: React.Ref<any> }).ref, node);\n    handleRef(innerRef, node);\n\n    this.currentNode = node;\n  };\n\n  componentDidUpdate(prevProps: RefProps) {\n    if (prevProps.innerRef !== this.props.innerRef) {\n      handleRef(this.props.innerRef, this.currentNode);\n    }\n  }\n\n  componentWillUnmount() {\n    delete this.currentNode;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return React.cloneElement(children, {\n      ref: this.handleRefOverride,\n    });\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;IAEaA,U;;;;;;;;;;;UACXC,W;;UAEAC,iB,GAAoB,UAACC,IAAD,EAAuB;MACzC,kBAA+B,MAAKC,KAApC;MAAA,IAAQC,QAAR,eAAQA,QAAR;MAAA,IAAkBC,QAAlB,eAAkBA,QAAlB;MAEA,IAAAC,gBAAA,EAAWF,QAAD,CAA2DG,GAArE,EAA0EL,IAA1E;MACA,IAAAI,gBAAA,EAAUD,QAAV,EAAoBH,IAApB;MAEA,MAAKF,WAAL,GAAmBE,IAAnB;IACD,C;;;;;;;SAEDM,kB,GAAA,4BAAmBC,SAAnB,EAAwC;IACtC,IAAIA,SAAS,CAACJ,QAAV,KAAuB,KAAKF,KAAL,CAAWE,QAAtC,EAAgD;MAC9C,IAAAC,gBAAA,EAAU,KAAKH,KAAL,CAAWE,QAArB,EAA+B,KAAKL,WAApC;IACD;EACF,C;;SAEDU,oB,GAAA,gCAAuB;IACrB,OAAO,KAAKV,WAAZ;EACD,C;;SAEDW,M,GAAA,kBAAS;IACP,IAAQP,QAAR,GAAqB,KAAKD,KAA1B,CAAQC,QAAR;IAEA,oBAAOQ,KAAK,CAACC,YAAN,CAAmBT,QAAnB,EAA6B;MAClCG,GAAG,EAAE,KAAKN;IADwB,CAA7B,CAAP;EAGD,C;;;EA5B6BW,KAAK,CAACE,S"}