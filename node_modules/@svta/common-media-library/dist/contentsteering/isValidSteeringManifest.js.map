{"version":3,"file":"isValidSteeringManifest.js","sourceRoot":"","sources":["../../src/contentsteering/isValidSteeringManifest.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAG/D;;;;;;;;;GASG;AACH,MAAM,UAAU,uBAAuB,CAAC,QAA0B;IACjE,IAAI,CAAC,QAAQ,EAAE,CAAC;QACf,OAAO,KAAK,CAAC;IACd,CAAC;IAED,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,cAAc,EAAE,GAAG,QAAQ,CAAC;IAE1G,iDAAiD;IACjD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC;QAClD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,gDAAgD;IAChD,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC;QACzC,OAAO,KAAK,CAAC;IACd,CAAC;IAED,+EAA+E;IAC/E,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,gBAAgB,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,gBAAgB,CAAC,CAAC,IAAI,KAAK,gBAAgB,CAAC,MAAM,EAAE,CAAC;QACrI,OAAO,KAAK,CAAC;IACd,CAAC;IAED,0DAA0D;IAC1D,IAAI,cAAc,IAAI,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;QACpJ,OAAO,KAAK,CAAC;IACd,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","sourcesContent":["import { isValidPathwayClone } from './isValidPathwayClone.js';\nimport type { SteeringManifest } from './SteeringManifest.js';\n\n/**\n * Validates a steering manifest.\n *\n * @param manifest - The steering manifest to validate.\n * @returns `true` if the steering manifest is valid, `false` otherwise.\n *\n * @group Content Steering\n *\n * @beta\n */\nexport function isValidSteeringManifest(manifest: SteeringManifest): boolean {\n\tif (!manifest) {\n\t\treturn false;\n\t}\n\n\tconst { VERSION, TTL, 'PATHWAY-PRIORITY': PATHWAY_PRIORITY, 'PATHWAY-CLONES': PATHWAY_CLONES } = manifest;\n\n\t// version is required and must be a valid number\n\tif (typeof VERSION !== 'number' || VERSION !== 1) {\n\t\treturn false;\n\t}\n\n\t// TTL must be a valid number and greater than 0\n\tif (typeof TTL !== 'number' || TTL <= 0) {\n\t\treturn false;\n\t}\n\n\t// PATHWAY-PRIORITY must be an array of strings and must not contain duplicates\n\tif (!Array.isArray(PATHWAY_PRIORITY) || PATHWAY_PRIORITY.length === 0 || new Set(PATHWAY_PRIORITY).size !== PATHWAY_PRIORITY.length) {\n\t\treturn false;\n\t}\n\n\t// PATHWAY-CLONES must be an array of valid pathway clones\n\tif (PATHWAY_CLONES && (!Array.isArray(PATHWAY_CLONES) || PATHWAY_CLONES.length === 0 || PATHWAY_CLONES.some(clone => !isValidPathwayClone(clone)))) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n"]}