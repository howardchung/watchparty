{"version":3,"file":"getTimescale.js","sourceRoot":"","sources":["../../../../../../../src/cmaf/ham/mapper/dash/mapHamToDash/utils/getTimescale.ts"],"names":[],"mappings":"AAGA,OAAO,EACN,gBAAgB,EAChB,eAAe,EACf,iBAAiB,GACjB,MAAM,gCAAgC,CAAC;AAExC;;;;;;;;;;;;GAYG;AAEH,MAAM,UAAU,YAAY,CAAC,KAAY;IACxC,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,MAAK,OAAO,EAAE,CAAC;QAC7B,MAAM,UAAU,GAAG,KAAmB,CAAC;QACvC,OAAO,UAAU,CAAC,UAAU,KAAK,CAAC;YACjC,CAAC,CAAC,UAAU,CAAC,UAAU;YACvB,CAAC,CAAC,eAAe,CAAC;IACpB,CAAC;IACD,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,MAAK,OAAO,EAAE,CAAC;QAC7B,OAAO,iBAAiB,CAAC;IAC1B,CAAC;IACD,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,MAAK,MAAM,EAAE,CAAC;QAC5B,OAAO,gBAAgB,CAAC;IACzB,CAAC;IACD,OAAO,iBAAiB,CAAC;AAC1B,CAAC","sourcesContent":["import type { AudioTrack } from '../../../../types/model/AudioTrack.js';\nimport type { Track } from '../../../../types/model/Track.js';\n\nimport {\n\tTEXT_SAMPLE_RATE,\n\tTIMESCALE_48000,\n\tVIDEO_SAMPLE_RATE,\n} from '../../../../utils/constants.js';\n\n/**\n * @internal\n *\n * This function tries to recreate the timescale value.\n *\n * This value is not stored on the ham object, so it is not possible (for now)\n * to get the original one.\n *\n * Just the audio tracks have this value stored on the `sampleRate` key.\n *\n * @param track - Track to get the timescale from\n * @returns Timescale in numbers\n */\n\nexport function getTimescale(track: Track): number {\n\tif (track?.type === 'audio') {\n\t\tconst audioTrack = track as AudioTrack;\n\t\treturn audioTrack.sampleRate !== 0\n\t\t\t? audioTrack.sampleRate\n\t\t\t: TIMESCALE_48000;\n\t}\n\tif (track?.type === 'video') {\n\t\treturn VIDEO_SAMPLE_RATE;\n\t}\n\tif (track?.type === 'text') {\n\t\treturn TEXT_SAMPLE_RATE;\n\t}\n\treturn VIDEO_SAMPLE_RATE;\n}\n"]}