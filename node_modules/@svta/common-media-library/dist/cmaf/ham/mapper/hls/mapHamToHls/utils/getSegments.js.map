{"version":3,"file":"getSegments.js","sourceRoot":"","sources":["../../../../../../../src/cmaf/ham/mapper/hls/mapHamToHls/utils/getSegments.ts"],"names":[],"mappings":"AAEA,OAAO,EACN,YAAY,EACZ,sBAAsB,EACtB,WAAW,EACX,mBAAmB,GACnB,MAAM,gCAAgC,CAAC;AAExC;;;;;;;;;;GAUG;AACH,MAAM,UAAU,WAAW,CAAC,QAAmB;IAC9C,OAAO,QAAQ;SACb,GAAG,CAAC,CAAC,OAAgB,EAAU,EAAE;QACjC,MAAM,SAAS,GAAW,OAAO,CAAC,SAAS;YAC1C,CAAC,CAAC,oBAAoB,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,sBAAsB,EAAE,YAAY,CAAC,IAAI;YACzF,CAAC,CAAC,EAAE,CAAC;QACN,MAAM,GAAG,GAAW,OAAO,CAAC,GAAG,CAAC,UAAU,CACzC,WAAW,EACX,mBAAmB,CACnB,CAAC;QACF,OAAO,WAAW,OAAO,CAAC,QAAQ,MAAM,SAAS,KAAK,GAAG,EAAE,CAAC;IAC7D,CAAC,CAAC;SACD,IAAI,CAAC,IAAI,CAAC,CAAC;AACd,CAAC","sourcesContent":["import type { Segment } from '../../../../types/model/Segment.js';\n\nimport {\n\tAT_SEPARATOR,\n\tHYPHEN_MINUS_SEPARATOR,\n\tWHITE_SPACE,\n\tWHITE_SPACE_ENCODED,\n} from '../../../../utils/constants.js';\n\n/**\n * @internal\n *\n * Format the ham segments to hls.\n *\n * @param segments - Segments to be formatted\n * @returns string containing the segments in the hls format\n *\n * @group CMAF\n * @alpha\n */\nexport function getSegments(segments: Segment[]): string {\n\treturn segments\n\t\t.map((segment: Segment): string => {\n\t\t\tconst byteRange: string = segment.byteRange\n\t\t\t\t? `#EXT-X-BYTERANGE:${segment.byteRange.replace(HYPHEN_MINUS_SEPARATOR, AT_SEPARATOR)}\\n`\n\t\t\t\t: '';\n\t\t\tconst url: string = segment.url.replaceAll(\n\t\t\t\tWHITE_SPACE,\n\t\t\t\tWHITE_SPACE_ENCODED,\n\t\t\t);\n\t\t\treturn `#EXTINF:${segment.duration},\\n${byteRange}\\n${url}`;\n\t\t})\n\t\t.join('\\n');\n}\n"]}