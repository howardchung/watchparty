{"version":3,"file":"getByterange.js","sourceRoot":"","sources":["../../../../../../../src/cmaf/ham/mapper/hls/mapHamToHls/utils/getByterange.ts"],"names":[],"mappings":"AAGA,OAAO,EACN,YAAY,EACZ,sBAAsB,GACtB,MAAM,gCAAgC,CAAC;AAExC;;;;;;;;;;GAUG;AACH,MAAM,UAAU,YAAY,CAAC,KAA8B;;IAC1D,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;QACrB,OAAO,aAAa,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,sBAAsB,EAAE,YAAY,CAAC,IAAI,CAAC;IACvF,CAAC;SACI,IAAI,MAAA,MAAA,KAAK,CAAC,QAAQ,0CAAE,EAAE,CAAC,CAAC,CAAC,0CAAE,SAAS,EAAE,CAAC;QAC3C,OAAO,eAAe,MAAM,CAAC,MAAA,MAAA,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,0CAAE,SAAS,0CAAE,OAAO,CAAC,sBAAsB,EAAE,YAAY,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC;IAC7I,CAAC;IACD,OAAO,EAAE,CAAC;AACX,CAAC","sourcesContent":["import type { AudioTrack } from '../../../../types/model/AudioTrack.js';\nimport type { VideoTrack } from '../../../../types/model/VideoTrack.js';\n\nimport {\n\tAT_SEPARATOR,\n\tHYPHEN_MINUS_SEPARATOR,\n} from '../../../../utils/constants.js';\n\n/**\n * @internal\n *\n * Get the byterange in hls format from ham track.\n *\n * @param track - Track to get the byterange from\n * @returns string containing the byterange in the hls format\n *\n * @group CMAF\n * @alpha\n */\nexport function getByterange(track: VideoTrack | AudioTrack): string {\n\tif (track.byteRange) {\n\t\treturn `BYTERANGE:${track.byteRange.replace(HYPHEN_MINUS_SEPARATOR, AT_SEPARATOR)}\\n`;\n\t}\n\telse if (track.segments?.at(0)?.byteRange) {\n\t\treturn `BYTERANGE:0@${Number(track.segments.at(0)?.byteRange?.replace(HYPHEN_MINUS_SEPARATOR, AT_SEPARATOR).split(AT_SEPARATOR)[0]) - 1}\\n`;\n\t}\n\treturn '';\n}\n"]}