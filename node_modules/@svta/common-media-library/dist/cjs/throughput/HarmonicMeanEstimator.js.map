{"version":3,"file":"HarmonicMeanEstimator.js","sourceRoot":"","sources":["../../../src/throughput/HarmonicMeanEstimator.ts"],"names":[],"mappings":";;;AACA,oEAA8D;AAG9D;;;;;;GAMG;AACH,MAAa,qBAAqB;IAAlC;QACS,YAAO,GAAqB,EAAE,CAAC;IAexC,CAAC;IAbO,MAAM,CAAC,MAAsB;QACnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3B,CAAC;IAEM,WAAW;QACjB,IAAI,KAAK,GAAW,CAAC,CAAC;QAEtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC9C,KAAK,IAAI,CAAC,GAAG,IAAA,oCAAe,EAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC;QAED,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;IACpC,CAAC;CACD;AAhBD,sDAgBC","sourcesContent":["import type { ResourceTiming } from '../request/ResourceTiming.js';\nimport { getBandwidthBps } from '../utils/getBandwidthBps.js';\nimport type { ThroughputEstimator } from './ThroughputEstimator.js';\n\n/**\n * Harmonic Mean throughput estimator\n *\n * @group Throughput\n *\n * @beta\n */\nexport class HarmonicMeanEstimator implements ThroughputEstimator {\n\tprivate samples: ResourceTiming[] = [];\n\n\tpublic sample(sample: ResourceTiming): void {\n\t\tthis.samples.push(sample);\n\t}\n\n\tpublic getEstimate(): number {\n\t\tlet value: number = 0;\n\n\t\tfor (let i = 0; i < this.samples.length; i++) {\n\t\t\tvalue += 1 / getBandwidthBps(this.samples[i]);\n\t\t}\n\n\t\treturn this.samples.length / value;\n\t}\n}\n"]}