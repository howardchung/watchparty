{"version":3,"file":"validatePresentation.js","sourceRoot":"","sources":["../../../../../../src/cmaf/ham/services/validators/validatePresentation.ts"],"names":[],"mappings":";;AA+BA,oDAeC;AA3CD,yEAAmE;AAEnE;;;;;;;;;;;;;;;;;;;;;;;;;GAyBG;AACH,SAAgB,oBAAoB,CAAC,YAA0B;IAC9D,MAAM,UAAU,GAAe,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,EAAE,EAAE,CAAC;IAEnE,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC;QACtB,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1B,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;IAC/D,CAAC;IAED,IAAA,gDAAqB,EACpB,YAAY,CAAC,aAAa,EAC1B,YAAY,CAAC,EAAE,EACf,UAAU,CACV,CAAC;IAEF,OAAO,UAAU,CAAC;AACnB,CAAC","sourcesContent":["import type { Validation } from '../../types/Validation.js';\nimport type { Presentation } from '../../types/model/Presentation.js';\n\nimport { validateSelectionSets } from './validateSelectionSets.js';\n\n/**\n * Validate a presentation.\n * It validates in cascade, calling each child validation method.\n *\n * Validations:\n * - Presentation has id\n *\n * @example\n * ```ts\n * import cmaf, { Presentation } from '@svta/common-media-library/cmaf-ham';\n * ...\n *\n * // const presentation: Presentation = ...;\n *\n * const validation = cmaf.validatePresentation(presentation);\n * ```\n *\n * Example output: `{ status: true|false, errorMessages: [...] }`\n *\n * @param presentation - Presentation from cmaf ham model\n * @returns Validation\n *\n * @group CMAF\n * @alpha\n *\n */\nexport function validatePresentation(presentation: Presentation): Validation {\n\tconst validation: Validation = { status: true, errorMessages: [] };\n\n\tif (!presentation.id) {\n\t\tvalidation.status = false;\n\t\tvalidation.errorMessages.push('Presentation id is undefined');\n\t}\n\n\tvalidateSelectionSets(\n\t\tpresentation.selectionSets,\n\t\tpresentation.id,\n\t\tvalidation,\n\t);\n\n\treturn validation;\n}\n"]}