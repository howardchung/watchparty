{"version":3,"file":"hlsToHam.js","sourceRoot":"","sources":["../../../../../../src/cmaf/ham/services/converters/hlsToHam.ts"],"names":[],"mappings":";;AAwBA,4BAcC;AApCD,gEAA0D;AAC1D,oEAA8D;AAE9D;;;;;;;;;;;;;;;;;;GAkBG;AACH,SAAgB,QAAQ,CACvB,QAAgB,EAChB,kBAA4B;IAE5B,MAAM,aAAa,GAAG,gCAAa,CAAC,WAAW,EAAE,CAAC;IAClD,aAAa,CAAC,WAAW,CAAC,IAAI,wBAAS,EAAE,CAAC,CAAC;IAC3C,OAAO,aAAa,CAAC,YAAY,CAAC;QACjC,QAAQ;QACR,kBAAkB,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;YAClE,QAAQ,EAAE,iBAAiB;YAC3B,IAAI,EAAE,KAAK;SACX,CAAC,CAAC;QACH,IAAI,EAAE,KAAK;KACX,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import type { Presentation } from '../../types/model/Presentation.js';\n\nimport { HlsMapper } from '../../mapper/hls/HlsMapper.js';\nimport { MapperContext } from '../../mapper/MapperContext.js';\n\n/**\n * Convert hls manifest into a ham object.\n *\n * @example\n * Example on how to import the cmaf module and convert the hls `manifest` and\n * `ancillaryManifests` array into the ham manifest.\n * ```ts\n * import cmaf from '@svta/common-media-library/cmaf-ham';\n *\n * const manifest = cmaf.hlsToHam(hlsManifest);\n * ```\n *\n * @param manifest - String of the Main manifest\n * @param ancillaryManifests - Ancillary Manifests . Must be in order, first audio, subtitle and video\n * @returns List of presentations from ham\n *\n * @group CMAF\n * @alpha\n */\nexport function hlsToHam(\n\tmanifest: string,\n\tancillaryManifests: string[],\n): Presentation[] {\n\tconst mapperContext = MapperContext.getInstance();\n\tmapperContext.setStrategy(new HlsMapper());\n\treturn mapperContext.getHamFormat({\n\t\tmanifest,\n\t\tancillaryManifests: ancillaryManifests.map((ancillaryManifest) => ({\n\t\t\tmanifest: ancillaryManifest,\n\t\t\ttype: 'hls',\n\t\t})),\n\t\ttype: 'hls',\n\t});\n}\n"]}