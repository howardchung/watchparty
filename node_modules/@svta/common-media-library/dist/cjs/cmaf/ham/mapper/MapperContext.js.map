{"version":3,"file":"MapperContext.js","sourceRoot":"","sources":["../../../../../src/cmaf/ham/mapper/MapperContext.ts"],"names":[],"mappings":";;;AAKA,MAAa,aAAa;IAIzB,gBAAwB,CAAC;IAElB,MAAM,CAAC,WAAW;QACxB,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;YAC7B,aAAa,CAAC,QAAQ,GAAG,IAAI,aAAa,EAAE,CAAC;QAC9C,CAAC;QAED,OAAO,aAAa,CAAC,QAAQ,CAAC;IAC/B,CAAC;IAEM,WAAW,CAAC,QAAgB;QAClC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC1B,CAAC;IAEM,YAAY,CAAC,QAAkB;QACrC,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAEM,iBAAiB,CAAC,YAA4B;QACpD,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;IAC/C,CAAC;IAEM,mBAAmB;QACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;IAC5C,CAAC;CACD;AA7BD,sCA6BC","sourcesContent":["import type { Manifest } from '../types/manifest/Manifest.js';\nimport type { Presentation } from '../types/model/Presentation.js';\n\nimport type { Mapper } from './Mapper.js';\n\nexport class MapperContext {\n\tprivate strategy!: Mapper;\n\tprivate static instance: MapperContext;\n\n\tprivate constructor() { }\n\n\tpublic static getInstance(): MapperContext {\n\t\tif (!MapperContext.instance) {\n\t\t\tMapperContext.instance = new MapperContext();\n\t\t}\n\n\t\treturn MapperContext.instance;\n\t}\n\n\tpublic setStrategy(strategy: Mapper): void {\n\t\tthis.strategy = strategy;\n\t}\n\n\tpublic getHamFormat(manifest: Manifest): Presentation[] {\n\t\treturn this.strategy.toHam(manifest);\n\t}\n\n\tpublic getManifestFormat(presentation: Presentation[]): Manifest {\n\t\treturn this.strategy.toManifest(presentation);\n\t}\n\n\tpublic getManifestMetadata(): JSON | undefined {\n\t\treturn this.strategy.getManifestMetadata();\n\t}\n}\n"]}