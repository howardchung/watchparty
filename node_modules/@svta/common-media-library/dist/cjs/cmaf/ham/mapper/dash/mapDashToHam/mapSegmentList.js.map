{"version":3,"file":"mapSegmentList.js","sourceRoot":"","sources":["../../../../../../../src/cmaf/ham/mapper/dash/mapDashToHam/mapSegmentList.ts"],"names":[],"mappings":";;AAeA,wCAgBC;AA1BD,uEAAiE;AAEjE;;;;;;;GAOG;AACH,SAAgB,cAAc,CAAC,WAA0B;IACxD,MAAM,QAAQ,GAAc,EAAE,CAAC;IAC/B,WAAW,CAAC,GAAG,CAAC,CAAC,OAAoB,EAAE,EAAE;QACxC,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;YACxB,OAAO,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,UAAsB,EAAE,EAAE;;gBAC5D,QAAQ,CAAC,IAAI,CAAC;oBACb,QAAQ,EAAE,IAAA,wCAAiB,EAC1B,OAAO,CAAC,CAAC,CAAC,QAAQ,EAClB,OAAO,CAAC,CAAC,CAAC,SAAS,CACnB;oBACD,GAAG,EAAE,MAAA,UAAU,CAAC,CAAC,CAAC,KAAK,mCAAI,EAAE;iBAClB,CAAC,CAAC;YACf,CAAC,CAAC,CAAC;QACJ,CAAC;IACF,CAAC,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC;AACjB,CAAC","sourcesContent":["import type { SegmentList } from '../../../types/mapper/dash/SegmentList.js';\nimport type { SegmentURL } from '../../../types/mapper/dash/SegmentUrl.js';\n\nimport type { Segment } from '../../../types/model/Segment.js';\n\nimport { calculateDuration } from './utils/calculateDuration.js';\n\n/**\n * @internal\n *\n * Maps SegmentList from dash to Segment list from ham.\n *\n * @param segmentList - SegmentList list from dash\n * @returns list of ham segments\n */\nexport function mapSegmentList(segmentList: SegmentList[]): Segment[] {\n\tconst segments: Segment[] = [];\n\tsegmentList.map((segment: SegmentList) => {\n\t\tif (segment.SegmentURL) {\n\t\t\treturn segment.SegmentURL.forEach((segmentURL: SegmentURL) => {\n\t\t\t\tsegments.push({\n\t\t\t\t\tduration: calculateDuration(\n\t\t\t\t\t\tsegment.$.duration,\n\t\t\t\t\t\tsegment.$.timescale,\n\t\t\t\t\t),\n\t\t\t\t\turl: segmentURL.$.media ?? '',\n\t\t\t\t} as Segment);\n\t\t\t});\n\t\t}\n\t});\n\treturn segments;\n}\n"]}