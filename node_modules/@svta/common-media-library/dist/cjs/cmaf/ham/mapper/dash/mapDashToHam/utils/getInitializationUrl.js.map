{"version":3,"file":"getInitializationUrl.js","sourceRoot":"","sources":["../../../../../../../../src/cmaf/ham/mapper/dash/mapDashToHam/utils/getInitializationUrl.ts"],"names":[],"mappings":";;AAaA,oDAyBC;AAnCD;;;;;;;;;GASG;AACH,SAAgB,oBAAoB,CACnC,aAA4B,EAC5B,cAA8B;;IAE9B,IAAI,iBAAqC,CAAC;IAC1C,IAAI,cAAc,CAAC,WAAW,EAAE,CAAC;QAChC,iBAAiB,GAAG,MAAA,cAAc,CAAC,OAAQ,CAAC,CAAC,CAAC,mCAAI,EAAE,CAAC;IACtD,CAAC;SACI,IAAI,aAAa,CAAC,WAAW,IAAI,cAAc,CAAC,WAAW,EAAE,CAAC;QAClE,iBAAiB;YAChB,CAAA,MAAA,MAAA,cAAc,CAAC,WAAW,0CAAE,EAAE,CAAC,CAAC,CAAC,0CAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,SAAS;iBAChE,MAAA,MAAA,aAAa,CAAC,WAAW,0CAAE,EAAE,CAAC,CAAC,CAAC,0CAAE,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,SAAS,CAAA,CAAC;IAClE,CAAC;IACD,IAAI,aAAa,CAAC,eAAe,IAAI,cAAc,CAAC,eAAe,EAAE,CAAC;QACrE,iBAAiB;YAChB,CAAA,MAAA,MAAA,aAAa,CAAC,eAAe,0CAAE,EAAE,CAAC,CAAC,CAAC,0CAAE,CAAC,CAAC,cAAc;iBACtD,MAAA,MAAA,cAAc,CAAC,eAAe,0CAAE,EAAE,CAAC,CAAC,CAAC,0CAAE,CAAC,CAAC,cAAc,CAAA,CAAC;QACzD,IAAI,iBAAiB,aAAjB,iBAAiB,uBAAjB,iBAAiB,CAAE,QAAQ,CAAC,oBAAoB,CAAC,EAAE,CAAC;YACvD,iBAAiB,GAAG,iBAAiB,CAAC,OAAO,CAC5C,oBAAoB,EACpB,MAAA,cAAc,CAAC,CAAC,CAAC,EAAE,mCAAI,EAAE,CACzB,CAAC;QACH,CAAC;IACF,CAAC;IACD,OAAO,iBAAiB,CAAC;AAC1B,CAAC","sourcesContent":["import type { AdaptationSet } from '../../../../types/mapper/dash/AdaptationSet.js';\nimport type { Representation } from '../../../../types/mapper/dash/Representation.js';\n\n/**\n * @internal\n *\n * Get the initialization url. It can be present on AdaptationSet or Representation.\n *\n * Url initialization is present on segments.\n *\n * @param adaptationSet - AdaptationSet to try to get the initialization url from\n * @param representation - Representation to try to get the initialization url from\n */\nexport function getInitializationUrl(\n\tadaptationSet: AdaptationSet,\n\trepresentation: Representation,\n): string | undefined {\n\tlet initializationUrl: string | undefined;\n\tif (representation.SegmentBase) {\n\t\tinitializationUrl = representation.BaseURL![0] ?? '';\n\t}\n\telse if (adaptationSet.SegmentList || representation.SegmentList) {\n\t\tinitializationUrl =\n\t\t\trepresentation.SegmentList?.at(0)?.Initialization[0].$.sourceURL ||\n\t\t\tadaptationSet.SegmentList?.at(0)?.Initialization[0].$.sourceURL;\n\t}\n\tif (adaptationSet.SegmentTemplate || representation.SegmentTemplate) {\n\t\tinitializationUrl =\n\t\t\tadaptationSet.SegmentTemplate?.at(0)?.$.initialization ||\n\t\t\trepresentation.SegmentTemplate?.at(0)?.$.initialization;\n\t\tif (initializationUrl?.includes('$RepresentationID$')) {\n\t\t\tinitializationUrl = initializationUrl.replace(\n\t\t\t\t'$RepresentationID$',\n\t\t\t\trepresentation.$.id ?? '',\n\t\t\t);\n\t\t}\n\t}\n\treturn initializationUrl;\n}\n"]}