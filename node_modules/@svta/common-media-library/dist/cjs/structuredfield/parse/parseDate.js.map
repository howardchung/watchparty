{"version":3,"file":"parseDate.js","sourceRoot":"","sources":["../../../../src/structuredfield/parse/parseDate.ts"],"names":[],"mappings":";;AAqBA,8BAiBC;AAtCD,8CAAwC;AAExC,qDAA+C;AAC/C,mDAA6C;AAC7C,yEAAmE;AAEnE,yBAAyB;AACzB,EAAE;AACF,wEAAwE;AACxE,uCAAuC;AACvC,EAAE;AACF,uEAAuE;AACvE,EAAE;AACF,mDAAmD;AACnD,EAAE;AACF,qEAAqE;AACrE,iDAAiD;AACjD,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,0BAA0B;AAC1B,SAAgB,SAAS,CAAC,GAAW;IACpC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;QACpB,MAAM,IAAA,0BAAU,EAAC,GAAG,EAAE,cAAI,CAAC,CAAC;IAC7B,CAAC;IAED,CAAC,EAAE,CAAC;IACJ,MAAM,IAAI,GAAG,IAAA,gDAAqB,EAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAErD,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,EAAE,CAAC;QAC5C,MAAM,IAAA,0BAAU,EAAC,GAAG,EAAE,cAAI,CAAC,CAAC;IAC7B,CAAC;IAED,OAAO,IAAA,4BAAW,EACjB,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAC3B,IAAI,CAAC,GAAG,CACR,CAAC;AACH,CAAC","sourcesContent":["import { DATE } from '../utils/DATE.js';\nimport type { ParsedValue } from './ParsedValue.js';\nimport { parsedValue } from './ParsedValue.js';\nimport { parseError } from './parseError.js';\nimport { parseIntegerOrDecimal } from './parseIntegerOrDecimal.js';\n\n// 4.2.9.  Parsing a Date\n//\n// Given an ASCII string as input_string, return a Date. input_string is\n// modified to remove the parsed value.\n//\n// 1.  If the first character of input_string is not \"@\", fail parsing.\n//\n// 2.  Discard the first character of input_string.\n//\n// 3.  Let output_date be the result of running Parsing an Integer or\n//     Decimal (Section 4.2.4) with input_string.\n//\n// 4.  If output_date is a Decimal, fail parsing.\n//\n// 5.  Return output_date.\nexport function parseDate(src: string): ParsedValue<Date> {\n\tlet i = 0;\n\tif (src[i] !== '@') {\n\t\tthrow parseError(src, DATE);\n\t}\n\n\ti++;\n\tconst date = parseIntegerOrDecimal(src.substring(i));\n\n\tif (Number.isInteger(date.value) === false) {\n\t\tthrow parseError(src, DATE);\n\t}\n\n\treturn parsedValue(\n\t\tnew Date(date.value * 1000),\n\t\tdate.src,\n\t);\n}\n"]}