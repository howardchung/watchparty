{"version":3,"file":"toCmcdJson.js","sourceRoot":"","sources":["../../../src/cmcd/toCmcdJson.ts"],"names":[],"mappings":";;AAoBA,gCAIC;AAxBD,gEAA0D;AAC1D,8DAAwD;AAGxD,6DAAuD;AAEvD;;;;;;;;;;;;;GAaG;AACH,SAAgB,UAAU,CAAC,IAAU,EAAE,OAA2B;IACjE,MAAM,IAAI,GAAG,IAAA,oCAAe,EAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAE5C,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,YAAY,oBAAO,CAAC,CAAC,CAAC,IAAA,4BAAW,EAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC/H,CAAC","sourcesContent":["import { symbolToStr } from '../cta/utils/symbolToStr.js';\nimport { SfToken } from '../structuredfield/SfToken.js';\nimport type { Cmcd } from './Cmcd.js';\nimport type { CmcdEncodeOptions } from './CmcdEncodeOptions.js';\nimport { prepareCmcdData } from './prepareCmcdData.js';\n\n/**\n * Convert a CMCD data object to JSON.\n *\n * @param cmcd - The CMCD object to convert.\n * @param options - Options for encoding the CMCD object.\n *\n * @returns The CMCD JSON.\n *\n * @group CMCD\n *\n * @beta\n *\n * @deprecated Sending CMCD as JSON objects is deprecated. Use `toCmcdUrl` to create an array of url strings instead.\n */\nexport function toCmcdJson(cmcd: Cmcd, options?: CmcdEncodeOptions): string {\n\tconst data = prepareCmcdData(cmcd, options);\n\n\treturn JSON.stringify(data, (_, value) => typeof value === 'symbol' || value instanceof SfToken ? symbolToStr(value) : value);\n}\n"]}