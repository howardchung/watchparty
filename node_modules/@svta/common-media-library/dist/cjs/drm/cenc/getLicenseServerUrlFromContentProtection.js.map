{"version":3,"file":"getLicenseServerUrlFromContentProtection.js","sourceRoot":"","sources":["../../../../src/drm/cenc/getLicenseServerUrlFromContentProtection.ts"],"names":[],"mappings":";;AAeA,4FAuBC;AApCD;;;;;;;;;;;;GAYG;AACH,SAAgB,wCAAwC,CACvD,yBAA8C,EAC9C,WAAmB;IAEnB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,CAAC;QAC/C,OAAO,IAAI,CAAC;IACb,CAAC;IAED,KAAK,MAAM,EAAE,IAAI,yBAAyB,EAAE,CAAC;QAC5C,IAAI,EAAE,CAAC,WAAW,KAAK,WAAW,EAAE,CAAC;YACpC,MAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;YAEvB,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;gBACxC,OAAO,KAAK,CAAC;YACd,CAAC;YAED,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;gBACrE,OAAO,KAAK,CAAC;YACd,CAAC;QACF,CAAC;IACF,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","sourcesContent":["import type { ContentProtection } from '../common/ContentProtection.js';\n\n/**\n * Extracts a license server URL from an array of ContentProtection elements.\n *\n * @param contentProtectionElements - Array of ContentProtection nodes from the manifest.\n * @param schemeIdUri - schemeIdUri we are searching for.\n * @returns The license server URL, and if not found then null.\n *\n * @group DRM\n * @beta\n *\n * @example\n * {@includeCode ../../../test/drm/cenc/getLicenseServerUrlFromContentProtection.test.ts#example}\n */\nexport function getLicenseServerUrlFromContentProtection(\n\tcontentProtectionElements: ContentProtection[],\n\tschemeIdUri: string,\n): string | null {\n\tif (!Array.isArray(contentProtectionElements)) {\n\t\treturn null;\n\t}\n\n\tfor (const cp of contentProtectionElements) {\n\t\tif (cp.schemeIdUri === schemeIdUri) {\n\t\t\tconst laUrl = cp.laUrl;\n\n\t\t\tif (laUrl && typeof laUrl === 'string') {\n\t\t\t\treturn laUrl;\n\t\t\t}\n\n\t\t\tif (typeof laUrl === 'object' && laUrl && typeof laUrl === 'string') {\n\t\t\t\treturn laUrl;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n"]}