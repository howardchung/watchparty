{"version":3,"file":"getKeySystemAccess.js","sourceRoot":"","sources":["../../../src/drm/keysystem/getKeySystemAccess.ts"],"names":[],"mappings":"AAEA;;;;;;;;GAQG;AACH,MAAM,CAAC,KAAK,UAAU,kBAAkB,CACvC,QAAuC;IAEvC,KAAK,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,QAAQ,EAAE,CAAC;QACtD,IAAI,CAAC;YACJ,OAAO,MAAM,SAAS,CAAC,2BAA2B,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;QAC/E,CAAC;QACD,MAAM,CAAC;YACN,qCAAqC;QACtC,CAAC;IACF,CAAC;IACD,OAAO,IAAI,CAAC;AACb,CAAC","sourcesContent":["import type { MediaKeySystemAccessRequest } from '../common/MediaKeySystemAccessRequest.js';\n\n/**\n * Attempts to get key system access using requestMediaKeySystemAccess from EME.\n *\n * @param requests - An array of key system access requests.\n * @returns MediaKeySystemAccess object if successful, or null if no system is supported.\n *\n * @group DRM\n * @beta\n */\nexport async function getKeySystemAccess(\n\trequests: MediaKeySystemAccessRequest[],\n): Promise<MediaKeySystemAccess | null> {\n\tfor (const { keySystem, configurations } of requests) {\n\t\ttry {\n\t\t\treturn await navigator.requestMediaKeySystemAccess(keySystem, configurations);\n\t\t}\n\t\tcatch {\n\t\t\t// legacy approach could be used here\n\t\t}\n\t}\n\treturn null;\n}\n"]}