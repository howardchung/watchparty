{"version":3,"file":"findCencContentProtection.js","sourceRoot":"","sources":["../../../src/drm/cenc/findCencContentProtection.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EAAE,qBAAqB,EAAE,MAAM,oCAAoC,CAAC;AAE3E;;;;;;;;;;;GAWG;AACH,MAAM,UAAU,yBAAyB,CAAC,OAA4B;;IACrE,IAAI,CAAC,OAAO,EAAE,CAAC;QACd,OAAO,IAAI,CAAC;IACb,CAAC;IAED,KAAK,MAAM,EAAE,IAAI,OAAO,EAAE,CAAC;QAC1B,IACC,CAAA,MAAA,EAAE,CAAC,WAAW,0CAAE,WAAW,EAAE,MAAK,qBAAqB;YACvD,EAAE,CAAC,KAAK;YACR,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,IAAI;gBAC/B,EAAE,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,EAChC,CAAC;YACF,OAAO,EAAE,CAAC;QACX,CAAC;IACF,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","sourcesContent":["import { CBCS } from '../common/CBCS.js';\nimport { CENC } from '../common/CENC.js';\nimport type { ContentProtection } from '../common/ContentProtection.js';\nimport { MP4_PROTECTION_SCHEME } from '../common/MP4_PROTECTION_SCHEME.js';\n\n/**\n * Finds and returns the ContentProtection element for MP4 Common Encryption.\n *\n * @param cpArray - Array of ContentProtection elements.\n * @returns The Common Encryption content protection element, or null if not found.\n *\n * @group DRM\n * @beta\n *\n * @example\n * {@includeCode ../../../test/drm/cenc/findCencContentProtection.test.ts#example}\n */\nexport function findCencContentProtection(cpArray: ContentProtection[]): ContentProtection | null {\n\tif (!cpArray) {\n\t\treturn null;\n\t}\n\n\tfor (const cp of cpArray) {\n\t\tif (\n\t\t\tcp.schemeIdUri?.toLowerCase() === MP4_PROTECTION_SCHEME &&\n\t\t\tcp.value &&\n\t\t\t(cp.value.toLowerCase() === CENC ||\n\t\t\t\tcp.value.toLowerCase() === CBCS)\n\t\t) {\n\t\t\treturn cp;\n\t\t}\n\t}\n\n\treturn null;\n}\n"]}