{"version":3,"file":"getPSSHForKeySystem.js","sourceRoot":"","sources":["../../../src/drm/cenc/getPSSHForKeySystem.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,oBAAoB,CAAC;AAEnD;;;;;;;;;;;;;GAaG;AACH,MAAM,UAAU,mBAAmB,CAClC,SAAuC,EACvC,QAAwC;IAExC,IAAI,CAAC,QAAQ,IAAI,CAAC,SAAS,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;IACzC,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IAE1C,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;QAClF,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC;IACvB,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","sourcesContent":["import type { KeySystem } from '../common/KeySystem.js';\nimport { parsePSSHList } from './parsePSSHList.js';\n\n/**\n * Returns the PSSH box associated with the given key system from the concatenated\n * list of PSSH boxes in the provided initData.\n *\n * @param keySystem - The desired key system\n * @param initData - 'cenc' initialization data. Concatenated list of PSSH boxes.\n * @returns The PSSH box ArrayBuffer corresponding to the given key system, or null if not found.\n *\n * @group DRM\n * @beta\n *\n * @example\n * {@includeCode ../../../test/drm/cenc/getPSSHForKeySystem.test.ts#example}\n */\nexport function getPSSHForKeySystem(\n\tkeySystem: KeySystem | null | undefined,\n\tinitData: ArrayBuffer | null | undefined,\n): ArrayBuffer | null {\n\tif (!initData || !keySystem) {\n\t\treturn null;\n\t}\n\n\tconst psshList = parsePSSHList(initData);\n\tconst uuid = keySystem.uuid.toLowerCase();\n\n\tif (Object.prototype.hasOwnProperty.call(psshList, keySystem.uuid.toLowerCase())) {\n\t\treturn psshList[uuid];\n\t}\n\n\treturn null;\n}\n"]}