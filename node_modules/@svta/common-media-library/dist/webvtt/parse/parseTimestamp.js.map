{"version":3,"file":"parseTimestamp.js","sourceRoot":"","sources":["../../../src/webvtt/parse/parseTimestamp.ts"],"names":[],"mappings":"AAAA,SAAS,cAAc,CAAC,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;IACjE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;AACjE,CAAC;AAED,sCAAsC;AACtC,MAAM,UAAU,cAAc,CAAC,KAAa;;IAC3C,mEAAmE;IACnE,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC;IAE9D,IAAI,CAAC,CAAC,EAAE,CAAC;QACR,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B,MAAM,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAA,MAAA,CAAC,CAAC,CAAC,CAAC,0CAAE,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,KAAI,GAAG,CAAC,CAAC;IACtD,MAAM,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE9B,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACV,yEAAyE;QACzE,OAAO,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACrD,CAAC;SACI,IAAI,KAAK,GAAG,EAAE,EAAE,CAAC;QACrB,+DAA+D;QAC/D,2CAA2C;QAC3C,OAAO,cAAc,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;SACI,CAAC;QACL,iEAAiE;QACjE,OAAO,cAAc,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;AACF,CAAC","sourcesContent":["function computeSeconds(h: number, m: number, s: number, f: number): number {\n\treturn (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n}\n\n// Try to parse input as a time stamp.\nexport function parseTimeStamp(input: string): number | null {\n\t// TODO: Optimize parsing to avoid creating new arrays and strings.\n\tconst m = input.match(/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/);\n\n\tif (!m) {\n\t\treturn null;\n\t}\n\n\tconst first = parseInt(m[1]);\n\tconst second = parseInt(m[2]);\n\tconst third = parseInt(m[3]?.replace(':', '') || '0');\n\tconst fourth = parseInt(m[4]);\n\n\tif (m[3]) {\n\t\t// Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n\t\treturn computeSeconds(first, second, third, fourth);\n\t}\n\telse if (first > 59) {\n\t\t// Timestamp takes the form of [hours]:[minutes].[milliseconds]\n\t\t// First position is hours as it's over 59.\n\t\treturn computeSeconds(first, second, 0, fourth);\n\t}\n\telse {\n\t\t// Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n\t\treturn computeSeconds(0, first, second, fourth);\n\t}\n}\n"]}