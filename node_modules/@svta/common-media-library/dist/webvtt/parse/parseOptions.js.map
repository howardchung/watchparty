{"version":3,"file":"parseOptions.js","sourceRoot":"","sources":["../../../src/webvtt/parse/parseOptions.ts"],"names":[],"mappings":"AAAA,4EAA4E;AAC5E,wEAAwE;AACxE,MAAM,UAAU,YAAY,CAAC,KAAa,EAAE,QAAwC,EAAE,aAA8B,EAAE,UAA4B;IACjJ,mEAAmE;IACnE,MAAM,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAE9D,KAAK,MAAM,CAAC,IAAI,MAAM,EAAE,CAAC;QACxB,IAAI,OAAO,MAAM,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE,CAAC;YACnC,SAAS;QACV,CAAC;QAED,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAC1C,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACrB,SAAS;QACV,CAAC;QAED,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QAEvB,oDAAoD;QACpD,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,CAAC;AACF,CAAC","sourcesContent":["// Helper function to parse input into groups separated by 'groupDelim', and\n// interpet each group as a key/value pair separated by 'keyValueDelim'.\nexport function parseOptions(input: string, callback: (k: string, v: string) => void, keyValueDelim: string | RegExp, groupDelim?: string | RegExp): void {\n\t// TODO: Optimize parsing to avoid creating new arrays and strings.\n\tconst groups = groupDelim ? input.split(groupDelim) : [input];\n\n\tfor (const i in groups) {\n\t\tif (typeof groups[i] !== 'string') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst kv = groups[i].split(keyValueDelim);\n\t\tif (kv.length !== 2) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst k = kv[0];\n\t\tconst v = kv[1].trim();\n\n\t\t// TODO: Return a value instead of using a callback.\n\t\tcallback(k, v);\n\t}\n}\n"]}